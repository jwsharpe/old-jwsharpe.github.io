(this["webpackJsonpyour-next-page-turner"]=this["webpackJsonpyour-next-page-turner"]||[]).push([[0],{38:function(e,t,a){e.exports=a(56)},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),s=(a(43),a(11)),i=a.n(s),l=a(21),u=a(10),m=(a(45),a(46),function(){return r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h3",null,"Your Next Page Turner")),r.a.createElement("div",{className:"header-actions"},r.a.createElement("a",{href:"/your-next-page-turner/about"},"about"),r.a.createElement("a",{href:"/your-next-page-turner/"},"home")))});a(47);function d(e){var t=e.book,a=t.img,n=t.authors,c=t.id,o=e.book.titles,s=!!a;o.length>70&&(o=o.slice(0,70),o+="...");return r.a.createElement("li",{onClick:function(){e.setShowBook(c)},className:c===e.showBook?"book book-active":"book"},r.a.createElement("div",{className:"img-container"},s?r.a.createElement("img",{alt:"",src:a}):r.a.createElement("div",{className:"missing-book"},"missing :(")),r.a.createElement("div",{className:"title"}," ",o),r.a.createElement("div",{className:"author"}," ",n))}function h(e){return r.a.createElement("ul",{className:"book-container"},e.books.map((function(t,a){return r.a.createElement(d,{setShowBook:e.setShowBook,showBook:e.showBook,key:a,book:t})})))}a(48);function b(e){return r.a.createElement("div",null,e.book?r.a.createElement("aside",null,r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"title"},e.book.titles),r.a.createElement("div",{className:"border"}),r.a.createElement("div",{className:"author"},e.book.authors),r.a.createElement("div",{className:"description"},e.book.description)),r.a.createElement("button",{onClick:function(){e.fetchRecsByTitle(e.book)},className:"rec-button"},"Get Recommendations!")):r.a.createElement("aside",null,r.a.createElement("div",{className:"top"},r.a.createElement("div",{className:"title"},"Please Select a Book!"))))}var p=a(85);function f(e){return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{id:"outlined-basic",label:"Search your favorites!",variant:"outlined",value:e.query,onChange:function(t){return e.setQuery(t.target.value)},fullWidth:!0})))}a(52);function E(e){return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"container rec-container"},r.a.createElement("div",{className:"rec-desc"},"Books like "),r.a.createElement("div",{className:"rec-title"},e.recTitle),r.a.createElement("div",{className:"clear-rec-button",onClick:e.clearRecs},"Clear Rec")))}var v="https://your-next-page-turner-backend.herokuapp.com",k=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),d=s[0],p=s[1],k=Object(n.useState)(-1),g=Object(u.a)(k,2),y=g[0],w=g[1],j=Object(n.useState)(0),N=Object(u.a)(j,2),O=N[0],x=N[1],S=Object(n.useState)(!0),T=Object(u.a)(S,2),B=T[0],R=T[1],C=Object(n.useState)(!0),J=Object(u.a)(C,2),_=J[0],I=J[1],P=Object(n.useState)(""),q=Object(u.a)(P,2),A=q[0],F=q[1],G=function(e,t){var a=Object(n.useState)(e),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){o(e)}),t);return function(){clearTimeout(a)}}),[e,t]),c}(A,200);Object(n.useEffect)((function(){localStorage.getItem("first")||(console.log(localStorage.getItem("first")),alert("Hi! This app is still in its infancy. There are only 200 books in the production database, so recommendations will be skewed and books you expect to be here will not be! Thanks. -James"),localStorage.setItem("first","visited")),B&&(R(!1),V()),A.length>=2&&H(G),0===A.length&&Q()}),[G.length]);var W,H=function(e){var t,a,n,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return t={query:e},a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)},o.next=4,i.a.awrap(fetch(v+"/query",a));case 4:return n=o.sent,o.next=7,i.a.awrap(n.json());case 7:r=o.sent,c(r);case 9:case"end":return o.stop()}}))},Q=function(){V()},V=function(){I(!0),c([]),x(0),Y(0)},Y=function(e){var t,n;return i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(fetch(v+"/books/"+e));case 2:return t=r.sent,r.next=5,i.a.awrap(t.json());case 5:n=r.sent,c([].concat(Object(l.a)(a),Object(l.a)(n))),I&&setTimeout((function(){return I(!1)}),500);case 8:case"end":return r.stop()}}))};return r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement("div",{className:"content-grid"},r.a.createElement(b,{fetchRecsByTitle:function(e){var t,a,n,r;return i.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return x(-1),p(e.titles),t={text:e.titles},a={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(t)},o.next=6,i.a.awrap(fetch(v+"/books",a));case 6:return n=o.sent,o.next=9,i.a.awrap(n.json());case 9:r=o.sent,c([e].concat(Object(l.a)(r)));case 11:case"end":return o.stop()}}))},book:a[(W=y,a.findIndex((function(e){return e.id===W})))]}),r.a.createElement("div",{onScroll:function(e){e.persist();var t=e.target,a=t.scrollTop,n=t.scrollHeight;n-a<n/2&&!_&&-1!==O&&!A.length&&function(){I(!0);var e=O+1;x(e),Y(e)}()},className:"content-container"},-1!==O?r.a.createElement(f,{query:A,setQuery:F}):r.a.createElement(E,{recTitle:d,clearRecs:function(){V()}}),r.a.createElement(h,{books:a,showBook:y,setShowBook:w}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var g=a(35),y=a(84),w=a(32),j=a.n(w),N=a(33),O=a(13),x=a(31);a(53);var S=Object(g.a)({palette:{primary:j.a,secondary:{main:"#f44336"}}});o.a.render(r.a.createElement(y.a,{theme:S},r.a.createElement(N.a,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/about"},r.a.createElement((function(e){return Object(x.a)(e),r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("div",{className:"about"},r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"Your Next Page Turner is an application that allows you to find recommendations based on a selected book."),r.a.createElement("p",null," This project was created by James Sharpe and Rebecca Rosen."),r.a.createElement("p",null,"Currently this app is in its infancy. The current number of books in the production database is 200, so finding books and getting book recommendations will be skewed. Our next goal is minimizing the recommendation system matrix to host more books."),r.a.createElement("p",null,"Rebecca did the data collection, data scraping and reccomendation system. Find more about the project backend"," ",r.a.createElement("a",{href:"https://github.com/rebecca-hh-rosen/your_next_page_turner_backend"},"here.")),r.a.createElement("p",null,"James did the frontend engineering and deployed it. Find more about the project's frontend"," ",r.a.createElement("a",{href:"https://github.com/jwsharpe/your_next_page_turner_frontend"},"here.")),r.a.createElement("a",{href:"https://github.com/jwsharpe"},"View James on Github"),r.a.createElement("a",{href:"https://github.com/rebecca-hh-rosen"},"View Rebecca on Github"),r.a.createElement("p",null),r.a.createElement("p",null,"Thank you for visiting :)")))}),null)),r.a.createElement(O.a,{path:"/"},r.a.createElement(k,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.db335c4b.chunk.js.map